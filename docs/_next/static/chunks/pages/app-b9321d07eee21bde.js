(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{8470:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app",function(){return t(8007)}])},1641:function(n,e,t){"use strict";var r=t(5893),c=t(9008);t(7294);e.Z=function(n){var e=n.children,t=n.title,o=void 0===t?"This is the default title":t;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(c.default,{children:[(0,r.jsx)("title",{children:o}),(0,r.jsx)("meta",{charSet:"utf-8"}),(0,r.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),e]})}},4636:function(n,e,t){"use strict";t.d(e,{Z:function(){return o}});var r=t(5503),c={apiKey:"AIzaSyCWTs-g-bhXKX1pwtmKTKzcaLF1QjvK01E",authDomain:"character-counter-f4d21.firebaseapp.com",projectId:"character-counter-f4d21",storageBucket:"character-counter-f4d21.appspot.com",messagingSenderId:"394271366330",appId:"1:394271366330:web:713f0280515e20efa63683"},o=function(){return(0,r.ZF)(c)}},8007:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return C}});var r=t(5893),c=t(5113),o=t(8527),a=t(4612),u=t(7702),i=t(4636),l=function(){return(0,i.Z)(),(0,r.jsx)(c.zx,{backgroundColor:"red.200",onClick:function(){return(0,u.w7)((0,u.v0)())},children:"\u30ed\u30b0\u30a2\u30a6\u30c8"})},s=t(1641),m=t(2797),d=t(944),h=t(1153),f=t(7294),x=function(n){var e=n.setProjectName,t=n.setKoma,a=n.setTitle,i=n.setDocId,l=n.projectName,s=n.koma,x=n.title,p=n.setIsShowedList,g=n.setPagesData,j=(0,f.useState)([]),v=j[0],w=j[1],N=v.map((function(n){return n.name})),b=(0,f.useState)(),y=b[0],L=b[1];return(0,f.useEffect)((function(){(0,h.aF)((0,h.iH)((0,h.cF)())).then((function(n){w(n.items.reverse())}))})),(0,r.jsxs)(o.kC,{direction:"column",justify:"space-between",children:[(0,r.jsx)(o.xu,{children:"".concat(null===y||void 0===y?void 0:y.name)}),(0,r.jsx)(c.zx,{onClick:function(){(function(n){return void 0!==("undefined"===typeof n?"undefined":(e=n)&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e);var e})(y)&&(0,h.Br)(y).then((function(n){n.text().then((function(n){var e,t;g(JSON.parse(n)),i("".concat(l,"_").concat(s,"_").concat(x,"_").concat(null===(e=(0,u.v0)().currentUser)||void 0===e||null===(t=e.email)||void 0===t?void 0:t.split("@")[0],"_\u6307\u5c0e\u6848_").concat((0,m.Z)(new Date,"yyyy-MM-dd-HH-mm-ss",{locale:d.Z}),".json")),p(!1)}))}))},children:"\u9078\u629e\u3057\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u3082\u3068\u306b\u3001\u7de8\u96c6\u3092\u958b\u59cb\u3059\u308b"}),N.map((function(n,c){return(0,r.jsx)(o.xu,{onClick:function(){L(v[c]);var r=n.split("_");e(r[0]),t(r[1]),a(r[2])},children:n},c)})),(0,r.jsx)(c.zx,{onClick:function(){i(""),p(!1)},children:"\u65b0\u3057\u3044\u30bf\u30a4\u30c8\u30eb\u3067\u65b0\u898f\u4f5c\u6210\u3059\u308b"})]})},p=[[],[{columns:[{columnName:"\u672c\u30c6\u30fc\u30de\u3092\u5b66\u3076\u610f\u7fa9",maxLength:250}],rowNumber:1},{columns:[{columnName:"\u672c\u30c6\u30fc\u30de\u3067\u80b2\u307e\u308c\u308b\u529b",maxLength:350}],rowNumber:1},{columns:[{columnName:"\u30bf\u30a4\u30c8\u30eb",maxLength:44},{columnName:"\u80b2\u307e\u308c\u308b\u529b",maxLength:28},{columnName:"\u6559\u79d1",maxLength:28},{columnName:"\u751f\u5f92\u304c\u53d6\u308a\u7d44\u3080\u554f\u3044",maxLength:92}],rowNumber:4},{columns:[{columnName:"\u751f\u5f92\u306e\u30b5\u30dd\u30fc\u30c8\u65b9\u6cd5",maxLength:162}],rowNumber:1}],[{columns:[{columnName:"\u30bf\u30a4\u30c8\u30eb",maxLength:30}],rowNumber:1},{columns:[{columnName:"\u6d3b\u52d5\u5185\u5bb9\u304a\u3088\u3073\u80b2\u307e\u308c\u308b\u529b",maxLength:250}],rowNumber:1},{columns:[{columnName:"\u9805\u76ee",maxLength:19},{columnName:"\u500b\u6570",maxLength:7},{columnName:"\u5229\u7528\u5834\u6240",maxLength:23}],rowNumber:5},{columns:[{columnName:"\u6587\u732e",maxLength:27},{columnName:"\u5229\u7528\u3055\u308c\u308b\u554f\u3044",maxLength:23}],rowNumber:5},{columns:[{columnName:"\u6d3b\u52d5\u5185\u5bb9",maxLength:30},{columnName:"\u30ad\u30fc\u30ef\u30fc\u30c9",maxLength:21},{columnName:"\u79d1\u76ee\u306b\u3064\u306a\u304c\u308b\u554f\u3044",maxLength:48},{columnName:"\u79d1\u76ee",maxLength:21},{columnName:"\u5358\u5143",maxLength:21}],rowNumber:3}],[{columns:[{columnName:"\u6bb5\u968e",maxLength:2},{columnName:"\u6d3b\u52d5\u5185\u5bb9",maxLength:48},{columnName:"\u6642\u9593",maxLength:6},{columnName:"\u751f\u5f92\u304c\u53d6\u308a\u7d44\u3080\u554f\u3044",maxLength:64},{columnName:"\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8",maxLength:36},{columnName:"\u6d3b\u52d5\u5f62\u614b",maxLength:16}],rowNumber:4},{columns:[{columnName:"\u6bb5\u968e",maxLength:2},{columnName:"\u6d3b\u52d5\u5185\u5bb9",maxLength:48},{columnName:"\u5bfe\u8c61",maxLength:52},{columnName:"\u5177\u4f53\u7b56",maxLength:88}],rowNumber:4}]],g=t(3441),j=t(9970),v=function(n){var e=n.maxLength,t=n.tableData,c=n.index,a=(0,f.useState)(0),u=a[0],i=a[1],l=u-e;return(0,r.jsxs)(o.xu,{children:[(0,r.jsx)(g.g,{value:t[c.row][c.column]||"",backgroundColor:u<=e?"green.100":"red.300",onInput:function(n){i((0,j.Z)(n.currentTarget.value)/2),t[c.row].splice(c.column,1,n.currentTarget.value)}}),(0,r.jsxs)(o.kC,{children:[l>0&&(0,r.jsxs)(o.xu,{color:"red.300",children:["\u8d85\u904e:",l]}),(0,r.jsxs)(o.xu,{children:["\u898b\u304b\u3051\u306e\u6587\u5b57\u5217\u9577:",u,"/",e]})]})]})};function w(n){return function(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var N=function(n){var e=n.tableConfig,t=n.tableData,c=e.rowNumber,a=e.columns.map((function(n){return n.columnName})),u=e.columns.map((function(n){return n.maxLength}));return(0,r.jsxs)(o.kC,{direction:"column",children:[(0,r.jsx)(o.kC,{direction:"row",wrap:"nowrap",justify:"space-between",children:a.map((function(n,e){return(0,r.jsx)(o.xu,{children:n},e)}))}),w(Array(c)).map((function(n,e){return t.push([]),(0,r.jsx)(o.kC,{direction:"row",wrap:"nowrap",justify:"space-between",children:u.map((function(n,c){return(0,r.jsx)(v,{maxLength:n,tableData:t,index:{row:e,column:c}},c)}))},e)}))]})},b=function(n){var e,t=n.pid,c=n.pageData,a=p[(e=t,1===e?1:1<e&&e%2===0?2:1<e&&e%2===1?3:0)];return(0,r.jsx)(s.Z,{children:1<=t?(0,r.jsx)(o.gC,{divider:(0,r.jsx)(o.cX,{}),children:a.map((function(n,e){return c.push([]),(0,r.jsx)(N,{tableConfig:n,tableData:c[e]},e)}))}):"no data"})},y=t(3162);function L(n){return function(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var C=function(){var n,e,t=(0,f.useState)(1),p=t[0],g=t[1],j=(0,f.useState)(!1),v=j[0],w=j[1],N=(0,f.useState)([]),C=N[0],k=N[1];(0,i.Z)(),(0,f.useEffect)((function(){(0,u.Aj)((0,u.v0)(),(function(){var n;null===(n=(0,u.v0)().currentUser)||void 0===n||n.reload().then((function(){w(!!(0,u.v0)().currentUser)}))}))}));var _,S=(0,f.useState)(""),I=S[0],D=S[1],A=(0,f.useState)("default-project"),T=A[0],Z=A[1],z=(0,f.useState)("1"),E=z[0],K=z[1],O=(0,f.useState)("default-title"),F=O[0],H=O[1],P=(0,f.useState)(!0),U=P[0],X=P[1],B=(0,h.iH)((0,h.cF)(),I);return(0,r.jsx)(s.Z,{title:"character counter app",children:v?U?(0,r.jsx)(x,{projectName:T,koma:E,title:F,setProjectName:Z,setKoma:K,setTitle:H,setDocId:D,setIsShowedList:X,setPagesData:k}):I.split("_").length<6?(0,r.jsxs)(o.kC,{direction:"column",children:[(0,r.jsxs)(o.kC,{direction:"row",children:[(0,r.jsx)(a.II,{placeholder:"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\uff08DT or V\uff09",onChange:function(n){Z(n.target.value)}}),(0,r.jsx)(a.II,{placeholder:"\u30b3\u30de\u6570",onChange:function(n){K(n.target.value)}}),(0,r.jsx)(a.II,{placeholder:"\u6307\u5c0e\u6848\u30bf\u30a4\u30c8\u30eb",onChange:function(n){H(n.target.value)}})]}),(0,r.jsxs)(o.kC,{justify:"space-between",children:[(0,r.jsx)(o.xu,{children:"".concat(T,"_").concat(E,"_").concat(F,"_").concat(null===(n=(0,u.v0)().currentUser)||void 0===n||null===(e=n.email)||void 0===e?void 0:e.split("@")[0],"_\u6307\u5c0e\u6848")}),(0,r.jsx)(c.zx,{onClick:function(){var n,e;D("".concat(T,"_").concat(E,"_").concat(F,"_").concat(null===(n=(0,u.v0)().currentUser)||void 0===n||null===(e=n.email)||void 0===e?void 0:e.split("@")[0],"_\u6307\u5c0e\u6848_").concat((0,m.Z)(new Date,"yyyy-MM-dd-HH-mm-ss",{locale:d.Z}),".json"))},children:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8ID\u3092\u6c7a\u5b9a\u3059\u308b"})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.kC,{direction:"row",justify:"space-between",children:[(0,r.jsx)(c.zx,{onClick:function(){var n;(0,y.saveAs)(new Blob([(n=C[p-1].flat(1),n.map((function(n){return n.reduce((function(n,e){return n+e+","}),"")})).reduce((function(n,e){return n+e+"\n"}),""))]),"page".concat(p,".csv"))},children:"\u3053\u306e\u30da\u30fc\u30b8\u3092csv\u3068\u3057\u3066\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b"}),(0,r.jsx)(c.zx,{onClick:function(){(0,h.KV)(B,new Blob([JSON.stringify(C)])).then((function(){console.log("upload success!"),X(!0)}))},children:"\u4fdd\u5b58\u3057\u3066\u4f5c\u696d\u3092\u7d42\u4e86\u3059\u308b"})]}),(0,r.jsxs)(o.kC,{direction:"row",justifyContent:"center",children:[(0,r.jsx)(c.zx,{onClick:function(){p>1&&g(p-1)},children:"-"}),(0,r.jsx)(o.xu,{children:p}),(0,r.jsx)(c.zx,{onClick:function(){g(p+1)},children:"+"})]}),(0,r.jsx)(b,{pid:p,pageData:(_=p,C.length<_&&k(L(C).concat([[]])),C)[p-1]}),(0,r.jsx)(o.kC,{direction:"row",children:(0,r.jsx)(l,{})})]}):(0,r.jsx)(o.xu,{children:"\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u307e\u305b\u3093\u3001\u3082\u3057\u304f\u306f\u8a31\u53ef\u3055\u308c\u305f\u30e6\u30fc\u30b6\u30fc\u3067\u306f\u3042\u308a\u307e\u305b\u3093"})})}}},function(n){n.O(0,[413,373,527,644,774,888,179],(function(){return e=8470,n(n.s=e);var e}));var e=n.O();_N_E=e}]);